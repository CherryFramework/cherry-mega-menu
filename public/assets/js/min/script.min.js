!function(e){"use strict";var t,n,a=e.event;t=a.special.debouncedresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(e,i){var s=this,r=arguments,o=function(){e.type="debouncedresize",a.dispatch.apply(s,r)};n&&clearTimeout(n),i?o():n=setTimeout(o,t.threshold)},threshold:150}}(jQuery),function(e){"use strict";e.fn.megaMenu=function(t){var n,a,i,s,r,o,c,l,u,d,h,g,m,f,p=e(this),b=1200,v=970,y=!1;p.settings=e.extend({event:p.data("event"),effect:p.data("effect"),mobile:p.data("mobile-trigger"),parent:p.data("parent-selector"),direction:p.data("direction")},t),a=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},h=function(e){return e.parents("li.item-type-megamenu").length?!0:!1},i=function(){var e=window.innerWidth;e<=p.settings.mobile?s():r()},s=function(){var t;p.addClass("mega-menu-mobile-on").css("display","none").siblings(".cherry-mega-menu-mobile-trigger").addClass("mega-menu-mobile-on"),p.find(".cherry-mega-menu-sub").each(function(){e(this).css("display","none")}),p.find(".cherry-mega-menu-has-children").each(function(){t=e(this).data("hide-mobile"),e(this).addClass(t)}),y=!0},r=function(){var t;p.removeClass("mega-menu-mobile-on").css("display","block").siblings(".cherry-mega-menu-mobile-trigger").removeClass("mega-menu-mobile-on"),p.find(".cherry-mega-menu-sub").each(function(){e(this).css("display","block")}),p.find(".cherry-mega-menu-has-children").each(function(){t=e(this).data("hide-mobile"),e(this).removeClass(t)}),y=!1},g=function(t){var n;return t.indexOf("%")>=0?(n=e(p.settings.parent).width(),n=n*parseInt(t)/100):t.indexOf("px")>=0?n=parseInt(t):0},o=function(){e(".mega-toggle-on > a",p).each(function(){c(e(this),!0)})},c=function(e){e.parent().removeClass("mega-toggle-on cherry-mega-menu-hover").triggerHandler("close_panel"),e.siblings(".cherry-mega-menu-sub").removeClass("active-sub").addClass("in-transition"),clearTimeout(n),n=setTimeout(function(){e.siblings(".cherry-mega-menu-sub").removeClass("in-transition")},window.cherry_mega_menu_data.duration),y&&e.siblings(".cherry-mega-menu-sub").slideUp("fast")},l=function(t){{var n=t.parent(),a="100%",i=n.data("sub-type"),s=n.data("width-fullscreen"),r=n.data("width-desktop"),o=n.data("width-tablet"),l=e(document).width(),u=n.data("sub-hr-position"),d=n.data("sub-vr-position"),h=u,g={};window.cherry_mega_menu_data.duration}n.addClass("cherry-mega-menu-hover").siblings().find(".mega-toggle-on").addBack(".mega-toggle-on").children("a").each(function(){c(e(this),!0)}),"vertical"==p.settings.direction&&(h=d),"fullwidth"!==h&&l>=b?a=s:"fullwidth"!==h&&l>=v&&b>l?a=r:"fullwidth"!==h&&v>l&&(a=o),g=m(n,h,i,a),n.addClass("mega-toggle-on").triggerHandler("open_panel"),t.siblings(".cherry-mega-menu-sub").css(g).addClass("active-sub"),!0===y&&t.siblings(".cherry-mega-menu-sub").slideDown("fast")},m=function(t,n,a,i){var s,r,o,c,l,u={};switch("standard"==a&&(i=null),n){case"fullwidth":i=g(i),l=i/2,r=e(p.settings.parent).offset().left-p.offset().left+parseInt(e(p.settings.parent).css("padding-left"))+parseInt(e(p.settings.parent).css("border-left-width")),u.left=r+"px";break;case"center":s=g(i),l=s/2,u.left="50%",u["margin-left"]="-"+l+"px";break;case"left-container":u.left="0",u.right="auto";break;case"right-container":u.left="auto",u.right="0";break;case"left-parent":r=t.position().left,u.left=r+"px",u.right="auto","100%"==i&&r>0&&(i="auto",u.right="0");break;case"right-parent":o=p.offset().left+parseInt(p.css("border-left-width"))+p.width()-t.offset().left-t.width(),u.left="auto",u.right=o+"px","100%"==i&&o>0&&(i="auto",u.left="0");break;case"vertical-full":c=0,"standard"==a&&(c=e(p.settings.parent).offset().top-t.offset().top),u.top=c+"px",u.left="100%",u.right="auto";break;case"vertical-parent":c=t.offset().top-p.offset().top,"standard"==a&&(c=0),u.top=c+"px",u.left="100%",u.right="auto"}return void 0!==i&&"vertical"==p.settings.direction&&i.indexOf("%")>=0&&(i="auto"),null!==i&&(u.width=i),u["-webkit-transition-duration"]=window.cherry_mega_menu_data.duration+"ms",u["-moz-transition-duration"]=window.cherry_mega_menu_data.duration+"ms",u["transition-duration"]=window.cherry_mega_menu_data.duration+"ms",console.log(u),u},u=function(){var t;e(document).on("click touchstart",function(t){e(t.target).closest(".cherry-mega-menu li").length||(e(".mega-click-click-go").each(function(){e(this).removeClass("mega-click-click-go")}),o())}),e("li.cherry-mega-menu-has-children > a",p).on({click:function(n){t=e(this).parent(),t.hasClass("item-hide-mobile")&&a()||(t.hasClass("mega-click-click-go")?t.removeClass("mega-click-click-go"):(n.preventDefault(),t.hasClass("mega-toggle-on")?c(e(this),!1):(t.siblings().removeClass("mega-click-click-go"),y||l(e(this))),t.addClass("mega-click-click-go")))}})},d=function(){e("li.cherry-mega-menu-has-children",p).hoverIntent({over:function(){var t=h(e(this));t||y||l(e(this).children("a"))},out:function(){var t=h(e(this));t||e(this).hasClass("mega-toggle-on")&&c(e(this).children("a"),!1)},timeout:800})},f=function(){p.removeClass("cherry-mega-no-js"),a()||"click"===p.settings.event?u():d(),e(window).on("debouncedresize",function(){i()}).trigger("debouncedresize")},f()}}(jQuery),jQuery(document).ready(function(){jQuery(".cherry-mega-menu").each(function(){jQuery(this).megaMenu()})});